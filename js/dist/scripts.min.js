let pokemonRepository=function(){let e=[];function t(e){let t=e.detailsUrl;return r(),fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,s()}).catch(function(e){console.error(e),s()})}function n(e,n){t(e).then(function(){var t,l;let a,r,s,d,u,h,m,p,f;t=e,l=n,a=document.querySelector(".modal"),r=l.target,a.classList.add("show"),a.classList.remove("hide"),r.dataset.isClicked=!0,s=document.querySelector("#navTotalizer"),d=document.querySelectorAll('[data-is-clicked="true"]').length,s.innerText=d,document.querySelector("button.close").addEventListener("click",o),u=document.querySelector(".modal-title"),h=i(t.name),u.innerText=h,document.querySelector(".modalImg").src=t.imageUrl,m=document.querySelector(".modal-body"),p=c(t.height),f=t.types[0].type.name,m.innerHTML=`
      <p><b>Type: </b> ${i(f)}</p>
      <b>Height: </b>${t.height}
      <p><em>${p}</em></p>
    `,document.querySelector(".modal-content").classList.add(f),r.classList.add(f,"borderW-3px"),window.addEventListener("keydown",e=>{"Escape"===e.key&&a.classList.contains("show")&&o()}),a.addEventListener("click",e=>{e.target===a&&o()})}).catch(function(){console.log(`failed to show ${e}`)})}function o(){let e=document.querySelector(".modal");e.classList.remove("show"),e.classList.add("hide");document.querySelector(".modal-content").setAttribute("class","modal-content")}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log(`failed to add ${t}`)}function a(){return e}function r(){let e=document.createElement("div");e.classList.add("loading-message"),e.innerText="Rounding up those pesky Pokemon...",document.querySelector("ul.pokemon-list").appendChild(e)}function s(){let e=document.querySelector("div.loading-message");document.querySelector("ul.pokemon-list").removeChild(e)}function c(e){let t;return e>=12?"This thing's HUGE! \uD83D\uDE32":e<12&&e>=8?"That ain't small \uD83D\uDE2E":e<8&&e>=4?"Kind of a shorty \uD83D\uDE10":"What a tiny little Pokemon! \uD83D\uDE0D"}return{add:l,getAll:a,addListItem:function e(t){let o=document.createElement("li"),i=document.createElement("button");o.classList.add("group-list-item","row","justify-content-center","mb-2"),i.innerText=`${t.name}`,i.classList.add("poke","btn","btn-light","col-12","col-lg-6"),i.addEventListener("click",function(e){n(t,e)}),o.appendChild(i),i.setAttribute("data-target",".modal"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-is-clicked","false"),document.querySelector(".pokemon-list").appendChild(o)},phraseHeight:c,showDetails:n,loadList:function e(){return r(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){l({name:i(e.name),detailsUrl:e.url})}),s()}).catch(function(e){console.error(e),s()})},loadDetails:t,showLoadingMessage:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});